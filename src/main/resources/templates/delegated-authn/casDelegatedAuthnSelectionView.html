<!DOCTYPE html>
<html xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="~{layout}">

<head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>

    <title th:text="#{screen.pac4j.credential-selection.title}">Delegated Authentication Profile Selection</title>
    <link href="../../static/css/cas.css" rel="stylesheet" th:remove="tag"/>
</head>

<body>
<main class="container mt-3 mb-3">
    <div layout:fragment="content" class="mdc-card p-4 m-auto w-lg-75">
        <script>
            function jqueryReady() {
                $('table').DataTable();
            }
        </script>

        <div class="col-xs-6 col-xs-offset-2 col-sm-offset-3">
            <h2 th:utext="#{screen.pac4j.credential-selection.title}">Delegated Authentication Profile Selection</h2>
            <p class="intro" th:utext="#{screen.pac4j.credential-selection.intro}">Please select your profile:</p>
            <div id="cas-profile-tiles" th:if="${delegatedAuthenticationCredentials}">
                <form method="post" th:each="principal : ${delegatedAuthenticationCredentials}" th:id="${'form-' + principal.id}">
                    <input type="hidden" name="execution" th:value="${flowExecutionKey}"/>
                    <input type="hidden" name="_eventId" value="select"/>
                    <input type="hidden" name="key" th:value="${principal.key}"/>
                    <button class="mdc-button mdc-button--raised btn btn-primary">
                        <span th:utext="${principal.attributes['ETAB_NAME']}" class="mdc-button__label"></span>
                    </button>
                </form>
            </span>
        </div>
    </div>
</main>
</body>
</html>
